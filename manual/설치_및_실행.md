# 설치 및 실행
- Type: 꼭 읽어야 할 글
- Date: 2013-10-15 22:37:39

필수 사항
--------

우선 Perl 5.14가 있어야 합니다. 그리고 `Text::Markdown`과 `DBD::SQLite` 모듈이 있어야 합니다. (템플릿 파일을 수정하면 `Text::Markdown` 대신 더 빠른 `Text::Markdown::Discount`를 쓸 수도 있습니다. 아예 다른 포매터를 쓸 수도 있습니다. 자세한 사항은 [템플릿](템플릿.md) 참고)

두 모듈은 cpan으로 설치할 수 있습니다.

	$ cpan install Text::Markdown
	$ cpan install DBD::SQLite

데비안 계열의 운영체제는 패키지 관리자로 설치할 수도 있습니다. 

	# apt-get install libtext-markdown-perl
	# apt-get install libdbd-sqlite3-perl

설치
---

압축을 풀면 `mdkkoji`라는 스크립트 파일이 있습니다. 인자를 아무 것도 적지 않고 이 스크립트를 실행시키면 사용법이 나옵니다. 우선은 초기화를 위해 다음과 같이 실행합니다.

	$ ./mdkkoji init

이렇게 실행하면 몇가지 테스트가 실행됩니다. 테스트가 실패하면 다음 단계로 넘어가지 않습니다. `config.pl`에 설정된 사항을 적용할 수 없을 때 그럴 수 있습니다. 가령 `port`로 지정한 포트가 이미 다른 데에서 사용중일 수도 있습니다. 혹은 파일 시스템에서 사용하는 인코딩과 설정 파일에서 지정한 인코딩이 일치하지 않아서 그럴 수도 있습니다(한글 Windows 환경에서는 `code_page`의 값을 `utf8`에서 `cp949`로 고쳐야할 것입니다). 코드에 문제가 있어서 테스트가 실패할 수도 있습니다. 그럴 경우에는 알려주십시요.

테스트가 성공하면 데이터베이스를 생성하고 문서를 색인합니다. 기본 설정 파일에는 `doc_root`의 값이 `manual`이어서, 이 설명서에 속한 파일들이 색인될 것입니다.

초기화가 끝나면 서버를 시작합니다.

	$ ./mdkkoji start &

웹 브라우저로 `localhost:8080`(포트 번호는 설정에 따르면 됨)에 접속하면 색인된 문서의 목록을(기본 설정의 경우 설명서를) 볼 수 있습니다. 이제 설명서를 읽고 필요에 따라 설정해서 사용하면 됩니다. [기본 사용법](기본_사용법.md)을 먼저 읽어보십시오.

서버는 다음과 같이 멈출 수도 있습니다.

	$ ./mdkkoji stop
